<!-- test-sdk.html (cháº¡y trong Pi Browser) -->
<!DOCTYPE html>
<html>
  <head>
    <title>Tranmusickingdom SDK Test</title>
    <script src="https://sdk.minepi.com/pi-sdk.js"></script>
  </head>
  <body>
    <h1>ğŸ¶ Tranmusickingdom SDK Test</h1>
    <button onclick="login()">ÄÄƒng nháº­p</button>
    <button onclick="pay()">Test thanh toÃ¡n</button>

    <script>
      Pi.init({ version: "2.0", sandbox: false }); // Äáº·t true náº¿u test khÃ´ng cáº§n vÃ­ tháº­t

      async function login() {
        try {
          const user = await Pi.authenticate(["username"], onIncomplete);
          alert("âœ… ÄÄƒng nháº­p thÃ nh cÃ´ng: " + user.username);
        } catch (error) {
          alert("âŒ Lá»—i Ä‘Äƒng nháº­p: " + error);
        }
      }

      async function pay() {
        const paymentData = {
          amount: 0.01,
          memo: "Test for Tranmusickingdom",
          metadata: { app: "Tranmusickingdom", test: true }
        };

        Pi.createPayment(paymentData, {
          onReadyForServerApproval: function (paymentId) {
            alert("âœ… Giao dá»‹ch Ä‘Ã£ táº¡o: " + paymentId);
          },
          onCancel: function (paymentId) {
            alert("âŒ Giao dá»‹ch bá»‹ há»§y.");
          },
          onError: function (error) {
            alert("ğŸš« Lá»—i thanh toÃ¡n: " + error);
          },
          onReadyForServerCompletion: function (paymentId, txid) {
            alert("âœ… Giao dá»‹ch sáºµn sÃ ng hoÃ n táº¥t: " + txid);
          }
        });
      }

      function onIncomplete(paymentId) {
        alert("âš ï¸ Pi chÆ°a hoÃ n táº¥t bÆ°á»›c xÃ¡c minh!");
      }
    </script>
  </body>
</html>
